<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-standards docs-version-current docs-doc-page docs-doc-id-scs-0113-v1-security-groups-decision-record" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Security Groups Decision Record | One platform — standardized, built and operated by many.</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.scs.community/img/summit-social.png"><meta data-rh="true" name="twitter:image" content="https://docs.scs.community/img/summit-social.png"><meta data-rh="true" property="og:url" content="https://docs.scs.community/standards/scs-0113-v1-security-groups-decision-record"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-standards-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-standards-current"><meta data-rh="true" property="og:title" content="Security Groups Decision Record | One platform — standardized, built and operated by many."><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.scs.community/standards/scs-0113-v1-security-groups-decision-record"><link data-rh="true" rel="alternate" href="https://docs.scs.community/standards/scs-0113-v1-security-groups-decision-record" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.scs.community/standards/scs-0113-v1-security-groups-decision-record" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="One platform — standardized, built and operated by many. RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="One platform — standardized, built and operated by many. Atom Feed">







<link rel="preconnect" href="https://matomo.scs.community/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setDocumentTitle",document.domain+"/"+document.title]),_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var e="https://matomo.scs.community/";_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","2"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script><link rel="stylesheet" href="/assets/css/styles.6d33ddd4.css">
<script src="/assets/js/runtime~main.aa933943.js" defer="defer"></script>
<script src="/assets/js/main.f2cea0ee.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="SCS" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="SCS" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/standards">Standards</a><a class="navbar__item navbar__link" href="/docs">For Operators</a><a class="navbar__item navbar__link" href="/contributor-docs">For Contributors</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SovereignCloudStack/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/standards/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/standards/certification/overview">Certification</a><button aria-label="Expand sidebar category &#x27;Certification&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/standards/standards/overview">Standards</a><button aria-label="Collapse sidebar category &#x27;Standards&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/global/">Global</a><button aria-label="Expand sidebar category &#x27;Global&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/standards/iaas/">IaaS</a><button aria-label="Collapse sidebar category &#x27;IaaS&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/iaas/scs-0100">scs-0100</a><button aria-label="Expand sidebar category &#x27;scs-0100&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/iaas/scs-0101">scs-0101</a><button aria-label="Expand sidebar category &#x27;scs-0101&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/iaas/scs-0102">scs-0102</a><button aria-label="Expand sidebar category &#x27;scs-0102&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/iaas/scs-0103">scs-0103</a><button aria-label="Expand sidebar category &#x27;scs-0103&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/iaas/scs-0104">scs-0104</a><button aria-label="Expand sidebar category &#x27;scs-0104&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/iaas/scs-0110">scs-0110</a><button aria-label="Expand sidebar category &#x27;scs-0110&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/iaas/scs-0111">scs-0111</a><button aria-label="Expand sidebar category &#x27;scs-0111&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/standards/iaas/scs-0113">scs-0113</a><button aria-label="Collapse sidebar category &#x27;scs-0113&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/standards/scs-0113-v1-security-groups-decision-record">V1</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/iaas/scs-0114">scs-0114</a><button aria-label="Expand sidebar category &#x27;scs-0114&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/iaas/scs-0115">scs-0115</a><button aria-label="Expand sidebar category &#x27;scs-0115&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/kaas/">KaaS</a><button aria-label="Expand sidebar category &#x27;KaaS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/iam/">IAM</a><button aria-label="Expand sidebar category &#x27;IAM&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/standards/ops/">Ops</a><button aria-label="Expand sidebar category &#x27;Ops&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/standards/standards/overview"><span itemprop="name">Standards</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/standards/iaas/"><span itemprop="name">IaaS</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/standards/iaas/scs-0113"><span itemprop="name">scs-0113</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">V1</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Security Groups Decision Record</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>Security Groups in IaaS (OpenStack) are sets of ip table rules, that are applied to ports which connect a virtual machine to a network.
In contrast to other resources like flavors or volume types that are always publicly accessible, or images that can be both public and private, security groups are always bound to the project level.
That creates some difficulties for a possible standard of Security Groups, which are discussed in this document.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="terminology">Terminology<a href="#terminology" class="hash-link" aria-label="Direct link to Terminology" title="Direct link to Terminology">​</a></h2>
<p>Security Group
A set of iptables rules that is applied to ports connecting a virtual machine and a network.</p>
<p>Security Group Rule (abbr. Rule)
This references a single rule within a security group.</p>
<p>RBAC
Role Based Access Control used for policies and alike.</p>
<p>network rbac / neutron rbac
These access controls will let administrators and users share neutron related resources with other projects.</p>
<p>admin
The most powerful role in OpenStack. Only given to some Operators of the Cloud Infrastructure.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context">​</a></h2>
<p>While creating a virtual machine and also later on, one or more security groups can be added to it.
When there is no security group specified the default security group will always be added.
Like every other security group, the default group is also project bound.
That means, it can be edited as required by project members.
By design of OpenStack and when not changed, default rules in the default security group block all incoming traffic except from the same Security Group and only allow outgoing traffic<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reasons-for-and-against-a-standard-for-security-groups">Reasons for and against a standard for security groups<a href="#reasons-for-and-against-a-standard-for-security-groups" class="hash-link" aria-label="Direct link to Reasons for and against a standard for security groups" title="Direct link to Reasons for and against a standard for security groups">​</a></h3>
<p>Considering having most likely similar security groups within different projects, it might make sense to standardize a few security groups for often used cases like ssh, http, https and maybe icmp.
What speaks for standardizing a certain set of security groups:</p>
<ol>
<li>Having a set of correctly configured security groups could reduce misconfiguration from users</li>
<li>Re-using correctly configured security groups saves time for users</li>
<li>Auditing security groups would be way easier for operators when helping customers</li>
<li>The configuration for the Security Groups can be done by networking experts, which may result in a higher security level as when users without expertise configure them</li>
</ol>
<p>What are the downsides of having a set of standardized security groups:</p>
<ol>
<li>A bug or misconfiguration is a single point of failure for ALL customers</li>
<li>Users might apply the wrong security group to their port or VM because they lack the domain knowledge, unknowingly opening themselves to attacks</li>
<li>Users will not inspect such default security groups: this may result in applying a wrong group and opening traffic too much</li>
<li>the central authority managing the groups does not necessarily know the use case of the user, the user/operator must know best what kind of security their workload needs. What is a necessary port for 99% of deployments might be a security disaster for my deployment</li>
<li>Providing default groups could have the effect of stopping customers to think about their specific security needs and instead just copying default groups and or rules</li>
</ol>
<p>This leads to a conclusion, that a set of default security groups is only more valuable than harmful for users:</p>
<ol>
<li>when the rules in those groups are configured correctly</li>
<li>and when the users still have to think about their network security on their own for each VM they start</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-limitations">Technical limitations<a href="#technical-limitations" class="hash-link" aria-label="Direct link to Technical limitations" title="Direct link to Technical limitations">​</a></h3>
<p>As security groups are project bound and there is no native way to them to be shared, we are left with three options:</p>
<ol>
<li>To use another endpoint <code>network rbac</code> to share security groups among different projects.</li>
<li>To adhere to the project scope of security groups and only give documentation about recommended security groups to users.</li>
<li>To only add a tutorial on how to create your own security group in general, how to detect what kind of network permissions your project needs for most frequent (linux) workloads and how to craft your own security groups in a secure way.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="option-0-pre-requirement-default-rules-for-the-default-security-group">Option 0: Pre-Requirement: default rules for the (default) security group<a href="#option-0-pre-requirement-default-rules-for-the-default-security-group" class="hash-link" aria-label="Direct link to Option 0: Pre-Requirement: default rules for the (default) security group" title="Direct link to Option 0: Pre-Requirement: default rules for the (default) security group">​</a></h3>
<p>For every project that is created there will also be a project-specific default security group created.
The default rules for the default groups and all other newly created groups can be looked up like this:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">stack@devstack:~/devstack$ openstack default security group rule list</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------+-------------+-----------+-----------+------------+-----------+-----------------------+----------------------+--------------------------------+-------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ID                     | IP Protocol | Ethertype | IP Range  | Port Range | Direction | Remote Security Group | Remote Address Group | Used in default Security Group | Used in custom Security Group |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------+-------------+-----------+-----------+------------+-----------+-----------------------+----------------------+--------------------------------+-------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| 47b929fd-9b39-4f22-    | None        | IPv6      | ::/0      |            | egress    | None                  | None                 | True                           | True                          |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| abc5-7d4f64d10909      |             |           |           |            |           |                       |                      |                                |                               |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| 6ace51bb-5258-45ab-    | None        | IPv6      | ::/0      |            | ingress   | PARENT                | None                 | True                           | False                         |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| 9ba9-1efbebfb086b      |             |           |           |            |           |                       |                      |                                |                               |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| 92a79600-5358-4fef-    | None        | IPv4      | 0.0.0.0/0 |            | egress    | None                  | None                 | True                           | True                          |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| a390-822665f46070      |             |           |           |            |           |                       |                      |                                |                               |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| 997bb0c2-652e-4d1f-    | None        | IPv4      | 0.0.0.0/0 |            | ingress   | PARENT                | None                 | True                           | False                         |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| b910-e12c89f88b44      |             |           |           |            |           |                       |                      |                                |                               |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------------------------+-------------+-----------+-----------+------------+-----------+-----------------------+----------------------+--------------------------------+-------------------------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Those rules can be edited, which may pose a security risk for customers consuming the default security group.
This should be addressed as a pre-requirement <a href="https://github.com/SovereignCloudStack/standards/issues/521" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="option-1-operator-usage-of-network-rbac">Option 1: operator usage of network rbac<a href="#option-1-operator-usage-of-network-rbac" class="hash-link" aria-label="Direct link to Option 1: operator usage of network rbac" title="Direct link to Option 1: operator usage of network rbac">​</a></h3>
<p>The <code>network rbac</code> endpoint<sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup> manages the possibility to share and access certain network-specific resources such as security groups.
For admins, it is possible to use this endpoint to share a security group with ALL projects within the cloud including ALL projects of ALL domains:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">stack@devstack:~/devstack$ openstack network rbac create --target-all-projects --action access_as_shared --type security_group group-for-everyone</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-------------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| Field             | Value                                |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-------------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| action            | access_as_shared                     |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| id                | 394d8e71-143f-4c5b-a72f-cd10af3222df |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| object_id         | b6a3834a-f89c-47a9-9ed6-ca89e93701c4 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| object_type       | security_group                       |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| project_id        | 15f2ab0eaa5b4372b759bde609e86224     |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| target_project_id | *                                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-------------------+--------------------------------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This would fulfill our goal to grant access to predefined security groups for all projects and all groups received as shared do not count into the projects quota for security groups.
But there are a few downsides to this:</p>
<ol>
<li>This should be strictly bound to the admin: no other user should be able to share security groups so to not confuse user.</li>
<li>The managing of those <code>network rbac</code> objects can get out of hand pretty quickly, because there neither is an explicit name for such an object nor do the names of the shared objects appear:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">stack@devstack:~/devstack$ openstack network rbac list --long</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-----------------------------+----------------+-----------------------------+--------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ID                          | Object Type    | Object ID                   | Action             |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-----------------------------+----------------+-----------------------------+--------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| 97507e4c-7413-4d61-ab21-    | security_group | 110b1bea-f0e0-4fb7-9fc7-    | access_as_shared   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| 047fc23516dd                |                | cda1b6f927b0                |                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| bc22a865-46f9-4cd2-80af-    | security_group | 5f22e42e-95dc-4c0a-8651-    | access_as_shared   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| 3c249ba0e010                |                | 57b1dfc8639f                |                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| 2467806f-5428-4506-8e23-    | network        | 02ef8579-9917-4a01-893d-    | access_as_shared   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| f4690db04e01                |                | cb2f9f3d5f98                |                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ed40996e-218d-4daa-b222-    | network        | 73edb86b-d7ab-4db3-82b7-    | access_as_external |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| f3c603a5b8a6                |                | 25fa8b012e40                |                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| 45e0a707-af82-42a6-b93f-    | subnetpool     | cd7addd1-05d9-48a8-bc38-    | access_as_shared   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| efde18216f13                |                | 4a581354983f                |                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| e514c2c8-65ac-4062-8b03-    | subnetpool     | ad1cc1ed-3261-4df2-8c73-    | access_as_shared   |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| fe24f6fc4656                |                | c3dd72d59061                |                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-----------------------------+----------------+-----------------------------+--------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">stack@devstack:~/devstack$ openstack network rbac show bc22a865-46f9-4cd2-80af-3c249ba0e010</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-------------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| Field             | Value                                |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-------------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| action            | access_as_shared                     |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| id                | bc22a865-46f9-4cd2-80af-3c249ba0e010 |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| object_id         | 5f22e42e-95dc-4c0a-8651-57b1dfc8639f |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| object_type       | security_group                       |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| project_id        | 15f2ab0eaa5b4372b759bde609e86224     |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| target_project_id | *                                    |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+-------------------+--------------------------------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The biggest downside: As soon as a security group is shared, everyone from every project, can edit the rules of this group.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="option-2-stay-project-scoped">Option 2: stay project-scoped<a href="#option-2-stay-project-scoped" class="hash-link" aria-label="Direct link to Option 2: stay project-scoped" title="Direct link to Option 2: stay project-scoped">​</a></h3>
<p>Using and adhering the project scope of the security groups has the consequence, that:</p>
<ol>
<li>either an admin has to set up security groups for each project</li>
<li>or the SCS project only provides a guide on how to set up and use some recommended security groups.</li>
</ol>
<p>As users are allowed to, will and should edit their security groups, there is no way to ensure, that a certain set of security groups with certain rules is always present in a project.
So packing an extra burden on admins is unreasonable.
The option to give a guide and recommend a few security groups however is a quite good option.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="option-3-security-focused-guide">Option 3: security-focused guide<a href="#option-3-security-focused-guide" class="hash-link" aria-label="Direct link to Option 3: security-focused guide" title="Direct link to Option 3: security-focused guide">​</a></h3>
<p>Instead of providing users with a set of default groups or the knowledge about how to create default groups, there could be a guide created that focuses on the crafting of a security group in a secure way.
That would include identifying what kind of network permission a single VM needs and how to proceed after gathering all requirements of the customers workload.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="decisions">Decisions<a href="#decisions" class="hash-link" aria-label="Direct link to Decisions" title="Direct link to Decisions">​</a></h2>
<p>The default Security Group Rules should be standardized as a pre-requirement (Option 0).</p>
<p>Using the <code>network rbac</code> endpoint (Option 1) would not solve the idea of having pre-defined and administrator audited Security Groups, because it is possible for any user to edit the rules of shared Security Groups.
Instead, the project-scope of the Security Groups should by focused and a guide prepared, that gives insight about creating and using Security Groups with a few examples but with a clear security focus (Mix of Option 2 and 3).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="consequences">Consequences<a href="#consequences" class="hash-link" aria-label="Direct link to Consequences" title="Direct link to Consequences">​</a></h2>
<p>Any CSP will have to follow the standard for the default Security Group Rules.
There are no consequences regarding Security Groups as it and users stay in full control and responsible for their own Security Groups</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-documents">Related Documents<a href="#related-documents" class="hash-link" aria-label="Direct link to Related Documents" title="Direct link to Related Documents">​</a></h2>
<p><a href="https://github.com/SovereignCloudStack/standards/pull/525" target="_blank" rel="noopener noreferrer">A PR to standardize default Security Group Rules</a>
<a href="https://github.com/SovereignCloudStack/docs/pull/142" target="_blank" rel="noopener noreferrer">A PR to a first draft for a guide for security groups</a></p>
<!-- -->
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-1">
<p><a href="https://github.com/openstack/neutron/blob/master/neutron/db/migration/alembic_migrations/versions/2023.2/expand/c33da356b165_security_group_default_rules.py" target="_blank" rel="noopener noreferrer">Default Security Group Rules</a> <a href="#user-content-fnref-1" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-2">
<p><a href="https://docs.openstack.org/neutron/latest/admin/config-rbac.html" target="_blank" rel="noopener noreferrer">Neutron RBAC</a> <a href="#user-content-fnref-2" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/standards/iaas/scs-0113"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">scs-0113: Security Groups Decision Record</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/standards/iaas/scs-0114"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">scs-0114: Volume Type Standard</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#terminology" class="table-of-contents__link toc-highlight">Terminology</a></li><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a><ul><li><a href="#reasons-for-and-against-a-standard-for-security-groups" class="table-of-contents__link toc-highlight">Reasons for and against a standard for security groups</a></li><li><a href="#technical-limitations" class="table-of-contents__link toc-highlight">Technical limitations</a></li><li><a href="#option-0-pre-requirement-default-rules-for-the-default-security-group" class="table-of-contents__link toc-highlight">Option 0: Pre-Requirement: default rules for the (default) security group</a></li><li><a href="#option-1-operator-usage-of-network-rbac" class="table-of-contents__link toc-highlight">Option 1: operator usage of network rbac</a></li><li><a href="#option-2-stay-project-scoped" class="table-of-contents__link toc-highlight">Option 2: stay project-scoped</a></li><li><a href="#option-3-security-focused-guide" class="table-of-contents__link toc-highlight">Option 3: security-focused guide</a></li></ul></li><li><a href="#decisions" class="table-of-contents__link toc-highlight">Decisions</a></li><li><a href="#consequences" class="table-of-contents__link toc-highlight">Consequences</a></li><li><a href="#related-documents" class="table-of-contents__link toc-highlight">Related Documents</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Contribute</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://matrix.to/#/!TiDqlLmEUaXqTemaLc:matrix.org?via=matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Matrix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://fosstodon.org/@sovereigncloudstack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mastodon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SovereignCloudStack/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Sovereign Cloud Stack, SCS and the logo are registered trademarks of the Open Source Business Alliance e.V. — Other trademarks are property of their respective owners.</div></div></div></footer></div>
</body>
</html>