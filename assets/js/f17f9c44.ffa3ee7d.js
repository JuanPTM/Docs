"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4979],{68081:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>c,metadata:()=>l,toc:()=>i});var n=s(74848),o=s(28453);const c={},r="Controllers",l={id:"container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/controllers",title:"Controllers",description:"OpenStackClusterStackRelease controller",source:"@site/docs/03-container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/controllers.md",sourceDirName:"03-container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs",slug:"/container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/controllers",permalink:"/docs/container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/controllers",draft:!1,unlisted:!1,editUrl:"https://github.com/SovereignCloudStack/docs/tree/main/docs/03-container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/controllers.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Quickstart",permalink:"/docs/container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/quickstart"},next:{title:"Developer Guide",permalink:"/docs/container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/develop"}},a={},i=[{value:"OpenStackClusterStackRelease controller",id:"openstackclusterstackrelease-controller",level:2},{value:"OpenStackNodeImageRelease controller",id:"openstacknodeimagerelease-controller",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"controllers",children:"Controllers"}),"\n",(0,n.jsx)(t.h2,{id:"openstackclusterstackrelease-controller",children:"OpenStackClusterStackRelease controller"}),"\n",(0,n.jsx)(t.p,{children:"The OpenStackClusterStackRelease controller\u2019s main responsibilities are:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Download release assets into the CSPO container"}),"\n",(0,n.jsxs)(t.li,{children:["Create OpenStackNodeImageRelease resources based on the required NodeImages defined in the downloaded release asset ",(0,n.jsx)(t.code,{children:"node-images.yaml"})]}),"\n",(0,n.jsx)(t.li,{children:"Set an OwnerReference on the existing OpenStackNodeImageRelease resources that could be utilized by the ClusterStack release (multiple versions of one ClusterStack could share an image)"}),"\n",(0,n.jsxs)(t.li,{children:["Update the OpenStackClusterStackRelease status to ",(0,n.jsx)(t.code,{children:"ready"})," once all related OpenStackNodeImageReleases are also ",(0,n.jsx)(t.code,{children:"ready"})]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"OSCSR controller",src:s(61779).A+"",title:"OSCSR controller",width:"825",height:"1572"})}),"\n",(0,n.jsx)(t.h2,{id:"openstacknodeimagerelease-controller",children:"OpenStackNodeImageRelease controller"}),"\n",(0,n.jsx)(t.p,{children:"The OpenStackNodeImageRelease controller\u2019s main responsibilities are:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Load the OpenStack Cloud configuration from the Secret referenced in ",(0,n.jsx)(t.code,{children:"spec.IdentityRef"})]}),"\n",(0,n.jsxs)(t.li,{children:["Create an Image as defined by ",(0,n.jsx)(t.code,{children:"spec.Image"})," if it does not already exist in the specified OpenStack project"]}),"\n",(0,n.jsx)(t.li,{children:"Instruct the OpenStack Glance service to import an Image from the provided URL"}),"\n",(0,n.jsxs)(t.li,{children:["Set the OpenStackNodeImageRelease status to ",(0,n.jsx)(t.code,{children:"ready"})," once the image achieves an Active status"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"OSNIR controller",src:s(57678).A+"",title:"OSNIR controller",width:"1283",height:"1450"})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},61779:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/openstackclusterstackrelease-controller-392111d1162c59f4787aad5267f85e04.png"},57678:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/openstacknodeimagerelease-controller-0b39df07c1e9d7a4e028f0795dd056d8.png"},28453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>l});var n=s(96540);const o={},c=n.createContext(o);function r(e){const t=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(c.Provider,{value:t},e.children)}}}]);