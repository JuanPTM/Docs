"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7633],{8478:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>c,metadata:()=>i,toc:()=>l});var o=n(74848),s=n(28453);const c={},r="Troubleshooting",i={id:"container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/troubleshooting",title:"Troubleshooting",description:"This guide explains general info on how to debug issues if a cluster creation fails.",source:"@site/docs/03-container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/troubleshooting.md",sourceDirName:"03-container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs",slug:"/container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/troubleshooting",permalink:"/docs/container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/troubleshooting",draft:!1,unlisted:!1,editUrl:"https://github.com/SovereignCloudStack/docs/tree/main/docs/03-container/components/cluster-stacks/components/cluster-stack-provider-openstack/docs/troubleshooting.md",tags:[],version:"current",frontMatter:{}},a={},l=[{value:"providerClient authentication err",id:"providerclient-authentication-err",level:2}];function u(e){const t={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,o.jsx)(t.p,{children:"This guide explains general info on how to debug issues if a cluster creation fails."}),"\n",(0,o.jsx)(t.h2,{id:"providerclient-authentication-err",children:"providerClient authentication err"}),"\n",(0,o.jsx)(t.p,{children:"If you are using https, and when you encounter issues like:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'kubectl logs -n cspo-system -l control-plane=controller-manager\n...\n[manager] 2024-04-15T15:20:07Z\tDEBUG\tevents\tPost "https://10.0.3.15/identity/v3/auth/tokens": tls: failed to verify certificate: x509: certificate signed by unknown authority\t{"type": "Warning", "object": {"kind":"OpenStackNodeImageRelease","namespace":"cluster","name":"openstack-ferrol-1-27-ubuntu-capi-image-v1.27.8-v2","uid":"93d2c1c8-5a19-45f8-9f93-8e8bd5227ebf","apiVersion":"infrastructure.clusterstack.x-k8s.io/v1alpha1","resourceVersion":"3773"}, "reason": "OpenStackProviderClientNotSet"}\n...\n'})}),"\n",(0,o.jsx)(t.p,{children:"you must specify the CA certificate in your secret, which contains the access data to the OpenStack instance, then secret should look similar to this example:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:'apiVersion: v1\ndata:\n cacert: <PEM_ENCODED_CA_CERT>\n clouds.yaml: <ENCODED_CLOUDS_YAML>\nkind: Secret\nmetadata:\n labels:\n   clusterctl.cluster.x-k8s.io/move: "true"\n name: "openstack"\n namespace: cluster\n'})})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var o=n(96540);const s={},c=o.createContext(s);function r(e){const t=o.useContext(c);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(c.Provider,{value:t},e.children)}}}]);